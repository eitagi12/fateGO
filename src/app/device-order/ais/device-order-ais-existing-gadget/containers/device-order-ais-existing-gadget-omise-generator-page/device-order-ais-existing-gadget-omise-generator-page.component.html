<div class="mc-flex">
  <mc-header title="ชำระค่าสินค้า">
  </mc-header>
  <div class="mc-flex-wrap">
      <div class="my-3">
          <div class="container-fluid">
              <div class="card mb-5">
                  <div class="card-header bg-lime text-white" translate>ข้อมูลการชำระ</div>
                  <div class="card-body text-light-grey">
                      <div class="border-bottom pb-3 mb-3">
                          {{'ชำระโดย'| translate}}
                          <span class="pull-right">
                              บัตรเครดิตออนไลน์
                          </span>
                      </div>
                      <div class="text-right h5 text-green">
                          {{'ยอดชำระ'| translate}}
                          <span class="total pull-right ">฿ {{ totalAmount | number }}</span>
                      </div>
                  </div>
              </div>
              <div *ngIf="qrCode">
                <div class="text-center">
                  <div>{{'กรุณาสแกน QR Code รับ Link ชำระเงินทันทีด้วยบัตรเครดิต'}}</div>
                  <div>{{'เพื่อทำรายการชำระค่าสินค้าและบริการ'}}</div>
                </div>
                <div class="qr-code-box">
                  <img src="assets/images/icon/icon_payment_online_creditcard.svg" class="d-block w-100 m-auto border" />
                  <div class="">
                    <img [src]="qrCode" class="" alt="QR CODE ERROR" style="width: 100%;" />
                  </div>
                </div>
                <div class="text-center">
                  <h3 [ngClass]="warningTimeOut() ? 'qrpaymenttimeout' : 'font-green-yellow'">{{ countdown || '00 : 00' }}</h3>
                  <div class="qrpaymenttimeout">" {{'กรุณาชำระเงินภายในเวลาที่กำหนด'}} "</div>
                  <div class="qrpaymenttimeout mt-2">" {{'กรณีลูกค้าไม่ได้รับ SMS ชำระเงินให้ส่ง OR Code ให้ลูกค้าแทน'}} "</div>
                  <div class="col-sm-10 border m-auto">
                    <input class="form-control-plaintext text-center" value="URL : {{ this.urlLink }}" disabled>
                  </div>
                </div>
              </div>
              <div class="row justify-content-center mb-4 mt-2">
                <label class="mt-2">ระบุเบอร์โทรเพื่อรับ sms ชำระเงิน</label>
                <form class="col-sm-3" [formGroup]="phoneSMSForm">
                    <input type="tel" class="form-control text-center" id="mobile" name="mobile" maxlength="10"  formControlName="phoneNo">
                </form>
                <button class="btn btn-success" [disabled]="phoneSMSForm?.controls?.phoneNo?.errors" (click)="onSentSms()">ส่ง sms อีกครั้ง</button>
            </div>
          </div>
      </div>
  </div>
  <mc-footer>
      <button class="btn btn-success" (click)="onGenerateQRCode()">REFRESH</button>
  </mc-footer>
</div>
