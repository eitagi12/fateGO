  <div class="mc-flex-wrap">
    <div class="card border-0">
      <div class="container-fluid mt-3 mb-3">
        <div class="row pl-3 pr-3">
          <div class="col-12 col-sm-6 text-brown">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAA6CAMAAADYzMR1AAAAhFBMVEUAAACNxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj+Nxj8Qf88uAAAAK3RSTlMAY1D4CQMTBfPu0DYjHw7JjUM9KJl3b+TbpX5oMSwZw720klcQr11TB4VVb092TgAAAixJREFUSMelltuaqjAMhQvIWRRB8QSOoqPOXu//fruEGSxY/VL570xkQXNqxBvuWRoBwck6iI+YpeiISmGOhR7fE2GG+40BYWImcETDep/PJl7WqjlGEltIgsXfT+9Evy98gTMkc/Xke4onPwsk4PZsV0iuXIUmjcEw9ssmFD5PYALJYmj1A2k98xRuADbP5iuZWXwBsF982oxVC/TPF8oxR8FrQqZzFNKx5yhMm1TqHAvpSLkKJ52jlI4lRyF59Q2xdNTcOAQ6hy0dO46CD4mu+HbS/k9wCAFMNfaNtFcshRqA9aKiWJOKshbpzRuDzvK0JWkJfmOshsZDq8sjo1GgGXxf7DkbPHdAAklpdFc4/bBHzDmpzqPtsC+RCz42+lMmBkmaMIdamIkDILwbKXiQOL8SlWN4BmKBLpoZwB/Tw1uKFocVKLnGTLtIlGpL8YmbhK5dym0Tho0njKiOaKjUZSTlayRFCKLrrhOI6DZjdHaZBiDUVnaXf7ZNMXXfvdyK0HE89MKyRsfpdtD2Y1k7eFAnT6E94kG4y4etVKiPbzNfu5jc5qrIWT2O/Xh+vcrdN2GK0+ChEavrCeEsM0awPbvbFH96As6OoszCr2oQS6WHrr4w4l50/eaGzekvwpgDJdj7HT8kYMrFaev2R3cj82dh2A7h/DMFv924HDrEZ8zp7frxwV9+s1EKK7oTQkrJCAU6y87+jCMt4FuMI6N6GEMlCowjEbk1jvt/2LKEbgNMQ0wAAAAASUVORK5CYII="
              class="icon icon-person" />
            <span>นาย ธีระยุทธ เจโตวิมุติพงศ์</span>
          </div>
          <!-- <div class="col-12 col-sm-6 text-sm-right text-brown">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAtCAMAAABoKeDXAAAAM1BMVEUAAAB0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ0oyJ25Zr8AAAAEHRSTlMAkBBwgNEwiPTesFJIEpc9LEzSRQAAAGVJREFUOMvt1LsSgCAMRNFF0fBm//9rdWiJsXLGgtPeAposgCJuJgW3RF0CPIPbZy7QIzJDkxlBVmgqCXKDZhvt0I32CGQ/Nd16b7XVft/Ea+T1HprTtG/+ad27tRPWvli7ZO3ZBeGQE1v36RJMAAAAAElFTkSuQmCC"
              class="icon icon-phone" />
            <span>0889540584</span>
          </div> -->
        </div>
      </div>
      <hr class="mt-0 mb-0">
      <div class="container-fluid mt-3 mb-3">
        <div class="row pl-3 pr-3">
          <div class="col-8 col-sm-10 text-left text-brown">
            <p class="text-light-green">ซื้อเครื่องเปล่า</p>
            <div>Samsung S10 Plus
              <span>BLACK</span> 1 เครื่อง</div>
          </div>
          <div class="col-4 col-sm-2 text-center text-brown">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABXCAMAAAAEVVrJAAAAaVBMVEUAAAD////T6bX1+u7////////2+/GNxj+324ei0GOw13q12oKez1yPx0Om0miYzFGUyUqSyEep1G663IqazVaWyk693o+OxkGy2H2u1nas1XOk0WWRyEXG4p/D4ZnA4JXK5KXc7sTS6LN1z0uxAAAAB3RSTlMABzIkC4Y6G1AA8QAAAnhJREFUaN7dmtuS2jAMhkW7rXJ0EkLOCbB9/4esvXRwCUmMkdDO7nfBcOHJP5F1tANQhnNUAK9kwiUyeB0lLgOvo6BL0onkJSHVih2IohUbECUXN2urFUsQRSseQBR5b03EFetPiY8CREnFzbrXikcQRSuG4ORrx0clrhhrxQBEIXQfhI0MOWnBQYjsKNjkhPwMLrPyA5uMesUEfCToqg6dXlEz+2ICW/ywK3hA10b+RA1zTim3FQ+8ipnzcW9mKGkla8Ob2chcsv7tfjc8ZrWuf4Jtfim9KOac4sDBbkJeUnCCvOwfmXhYeXDiySIOetSITjzvJtKEOjpbbSOhicd2FA9PPBFXipOdeIwLik48pijEohOPKXz0ws2/jXYtZ4vjpkImao/uhAcPg/DQ+Cn2AQmTuZRffjoDid4vxE7mHWUPTvTylBwbI3gwUiPy6Gul/qPtIzAgIm/C4E9bqCEqVsyJ3x1eMXgRIKU1754xEWXiyVGjwJMGaVTgi0ISB/AHCaT1sxHVBs9Q/3l++99BksjraOc73PF0KeL6/BmPaAj57nhaNKxp1nglId/xRPfHrtlCC28pqGbNbTIolMqXgjtCQzrsMytJbFWm/94swbsMf5GxeUoR73j2l0OZ5MaE87JW3bTWVG+Nz/pnXL8TudUwO97RvPVCuRqmvXVf28IxfKuwneHnRQ4oVD6KO3ugSiBu3Io8ja5luFfMoyuJcS7m7xgmG422S1ubF1qWgf4m6I+omTuX4pvnbVhH9sQEh9mAYSUbaw+6w6bRNMX5x7+loO2P5zJDA3Awbo7a1cxxWcjwSr55h5gCF6fi3xPLdbuv3pT8BWzFR0YdTPwzAAAAAElFTkSuQmCC"
              width="35px" class="mb-1" />
            <h4>
              <p class="text-light-green">฿45,700</p>
            </h4>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-3 mb-3">
    <mc-wizard [wizards]="wizards" active="2"></mc-wizard>
    <div class="container-fluid">
      <form [formGroup]="mobileCareForm">
        <div class="card mb-3">
          <div class="card-header bg-teal text-white">
            {{ 'บริการโมบายแคร์' | translate }}
          </div>
          <div class="card-body">
            <div>
              <input class="form-check-input" type="radio" id="button-buy-mobile-care" [value]="true"
                formControlName="mobileCare">
              <label class="form-check-label" for="button-buy-mobile-care"> {{ 'บริการโมบายแคร์' | translate }}</label>
            </div>
            <div style="padding-left: 30px;">
              <div *ngFor="let item of promotionMock">
                <input class="form-check-input" type="radio" id="button-buy-mobile-care-{{ item?.id }}" [value]="item"
                  formControlName="promotion">
                <label class="form-check-label" for="button-buy-mobile-care-{{ item?.id }}">
                  {{ item?.title }}
                </label>
                <span class="pull-right text-light-green">฿ {{ item?.priceExclVat | number:'1.2-2' }}</span>
              </div>
            </div>

            <div>
              <input class="form-check-input" type="radio" id="button-not-buy-mobile-care" [value]="false"
                formControlName="mobileCare">
              <label class="form-check-label"
                for="button-not-buy-mobile-care">{{ 'ไม่สนใจชื้อบริการโมบายแคร์' | translate }}</label>
              <label class="text-light-green"
                [hidden]="!notBuyMobileCareForm.value.notBuyMobile">({{notBuyMobileCareForm.value.notBuyMobile }})</label>
            </div>
            <div *ngIf="mobileCare?.existingMobileCare">
              <small class="text-red">{{ 'หมายเหตุ : กรณีมีการสมัคร Mobile care ที่เครื่องใหม่ การรับประกันที่เครื่องเดิมจะสิ้นสุด' | translate
                  }}</small>
            </div>
          </div>


          <!-- <div class="py-3 mobile-care-top" [hidden]="notBuyMobileCareForm.value.notBuyMobile"> -->
            <!-- <tabset [justified]="true"> -->
              <!-- <tab *ngFor="let promotion of mobileCare?.promotions" [active]="promotion.active"> -->
                <!-- <ng-template tabHeading>
                  <div class="promotion" [ngClass]="promotion?.icon">
                    {{ promotion?.title }}
                  </div>
                </ng-template> -->

                <!-- <div class="pl-3 pt-3 pr-3 mt-3 mobile-care-top" *ngIf="promotion?.itemsSerenade?.length > 0">
                  <h6 class="text-pink">{{ 'สิทธิพิเศษสำหรับลูกค้า Serenade' | translate }}</h6>
                  <div *ngFor="let item of promotion?.itemsSerenade">
                    <input class="form-check-input" type="radio" id="mobile-care-package-{{ item?.id }}" [value]="item"
                      formControlName="promotion">
                    <label class="form-check-label" for="mobile-care-package-{{ item?.id }}">
                      {{ item?.title }}
                    </label>
                    <span class="pull-right text-light-green">฿ {{ item?.priceExclVat | number:'1.2-2' }}</span>
                  </div>
                </div> -->
                <!-- <div class="pl-3 pt-3 pr-3 mt-3 mobile-care-top" *ngIf="promotion?.items?.length > 0">
                  <div *ngFor="let item of promotion?.items">
                    <input class="form-check-input" type="radio" id="mobile-care-package-{{ item?.id }}" [value]="item"
                      formControlName="promotion">
                    <label class="form-check-label" for="mobile-care-package-{{ item?.id }}">
                      {{ item?.title }}
                    </label>
                    <span class="pull-right text-light-green">฿ {{ item?.priceExclVat | number:'1.2-2' }}</span>
                  </div>
                </div> -->
              <!-- </tab> -->
            <!-- </tabset> -->
          <!-- </div> -->
        </div>
      </form>

      <div class="card" style="margin-bottom: 20px;" [hidden]="notBuyMobileCareForm.value.notBuyMobile">
        <div class="card-header" style="background-color: white;">
          <h3>สิทธิพิเศษสำหรับลูกค้า</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="privilegeCustomerForm">
            <div style="text-align: center;">
              <div>
                <div class="box-search-mobileNo">
                  <input autocomplete="off" formControlName="mobileNo" type="text" (keypress)="keyPress($event)"
                    id="input-mobile-no" placeholder="ระบุเบอร์มือถือ AIS รับสิทธิสมัครบริการโมบายแคร์"
                    class="mobile-input" maxlength="10" >
                  <button class="search-btn" (click)="searchMobileNo()" id="button-search-mobile-no">
                    <img src="assets/images/icon/device_only_search_icon.png">
                  </button>
                </div>
                <button *ngIf="isPrivilegeCustomer" class="btn-get-otp" id="button-get-otp">Get OTP</button>
              </div>
              <br>
              <div *ngIf="isPrivilegeCustomer">
                <div class="box-search-otp">
                  <input autocomplete="off" type="text" formControlName="otpNo" (keypress)="keyPress($event)"
                    id="input-otp" placeholder="ระบุ OTP" class="otp-input" maxlength="5">
                </div>
                <button class="btn-get-otp" id="button-verify" (click)="checkVerify()">Verify</button>
              </div>
            </div>
          </form>
        </div>
      </div>

        <div class="card mb-3" [hidden]="notBuyMobileCareForm.value.notBuyMobile">
          <div class="card-header bg-transparent">{{ 'อัตราค่าบริการ (รวม VAT)' | translate }}</div>
          <div class="card-body">
            <p>
              <i class="fa fa-circle mr-3 text-light-green"></i>
              {{ 'เปลี่ยนเครื่องในราคา 25% จากราคาปกติ' | translate }}
              <span class="pull-right text-light-green">฿{{ getServiceChange(25) | number:'1.2-2' }}</span>
            </p>
            <p>
              <i class="fa fa-circle mr-3 text-light-green"></i>
              {{ 'รับเครื่องทดแทนปีที่ 1 ในราคา 45% จากราคาปกติ' | translate }}
              <span class="pull-right text-light-green">฿{{ getServiceChange(45) | number:'1.2-2' }}</span>
            </p>
            <p>
              <i class="fa fa-circle mr-3 text-light-green"></i>
              {{ 'รับเครื่องทดแทนปีที่ 2 ในราคา 40% จากราคาปกติ' | translate }}
              <span class="pull-right text-light-green">฿{{ getServiceChange(40) | number:'1.2-2' }}</span>
            </p>
            <p>
              <i class="fa fa-circle mr-3 text-light-green"></i>
              {{ 'รับเครื่องทดแทนปีที่ 3 และปีที่ 4 ในราคา 30% จากราคาปกติ' | translate }}
              <span class="pull-right text-light-green">฿{{ getServiceChange(30) | number:'1.2-2' }}</span>
            </p>
          </div>

          <div class="text-red">
            <small>
              {{ '*ค่าบริการเปลี่ยนเครื่อง/รับเครื่องทดแทน ขึ้นอยู่กับราคาเครื่องตามประกาศของบริษัท ฯ ณ วันที่ซื้อเครื่อง ไม่รวมราคาโปรโมชั่น'
                | translate }}
            </small>
          </div>
        </div>
    </div>
  </div>

<ng-template #template>
  <div class="modal-header bg-white">
    <h5 class="modal-title text-grey text-center">
      {{ 'โปรดระบุเหตุผลที่ท่านยังไม่สนใจจะรับบริการ Mobile Care' | translate }}
    </h5>
    <button type="button" class="close pull-right" aria-label="Close" (click)="onNotBuyMobileCare(true)">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="notBuyMobileCareForm">
      <div>
        <input class="form-check-input" type="radio" id="not-buy-mobile-care-n1" value="ราคาเครื่องถูกอยู่แล้ว"
          formControlName="notBuyMobile">
        <label class="form-check-label" for="not-buy-mobile-care-n1">
          {{ 'ราคาเครื่องถูกอยู่แล้ว' | translate }}
        </label>
      </div>
      <div>
        <input class="form-check-input" type="radio" id="not-buy-mobile-care-n2" value="รักษาเครื่องดีอยู่แล้ว"
          formControlName="notBuyMobile">
        <label class="form-check-label" for="not-buy-mobile-care-n2">
          {{ 'รักษาเครื่องดีอยู่แล้ว' | translate }}
        </label>
      </div>
      <div>
        <input class="form-check-input" type="radio" id="not-buy-mobile-care-n3" value="เปลี่ยนเครื่องบ่อย"
          formControlName="notBuyMobile">
        <label class="form-check-label" for="not-buy-mobile-care-n3">
          {{ 'เปลี่ยนเครื่องบ่อย' | translate }}
        </label>
      </div>
      <div>
        <input class="form-check-input" type="radio" id="not-buy-mobile-care-n4" value="ค่าบริการสูงเกินไป"
          formControlName="notBuyMobile">
        <label class="form-check-label" for="not-buy-mobile-care-n4">
          {{ 'ค่าบริการสูงเกินไป' | translate }}
        </label>
      </div>
      <div>
        <input class="form-check-input" type="radio" id="not-buy-mobile-care-n5" value="ยังไม่ตัดสินใจ"
          formControlName="notBuyMobile">
        <label class="form-check-label" for="not-buy-mobile-care-n5">{{ 'ยังไม่ตัดสินใจ' }}</label>
      </div>
    </form>
  </div>
  <div class="modal-footer d-flex justify-content-center">
    <button type="button" class="btn btn-secondary btn-not-buy-mobile-care"
      (click)="onNotBuyMobileCare(true)">CLOSE</button>
    <button type="button" class="btn btn-success btn-not-buy-mobile-care"
      (click)="onNotBuyMobileCare(false)" [disabled]="!isValidNotBuyMobile">NEXT</button>
  </div>
</ng-template>
