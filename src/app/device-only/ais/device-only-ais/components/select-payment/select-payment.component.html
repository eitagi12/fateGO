<div class="mc-flex-wrap">
  <div class="card border-0">
    <div class="container-fluid mt-3 mb-3">
      <div class="row pl-3 pr-3">
        <div class="col-12 col-sm-6">
          <img src="assets/images/icon/icon-person.png" class="icon-img icon-person" />
          <span id="text-customer-name">
            {{ transaction?.data?.customer?.titleName }} 
            {{ transaction?.data?.customer?.firstName }} 
            {{ transaction?.data?.customer?.lastName}} 
          </span>
        </div>
        <div class="col-12 col-sm-6 text-sm-right">
          <img src="assets/images/icon/sales_portal_green_phone.png" class="icon-img icon-phone" />
          <span id="text-mobile-no"> {{ transaction?.data?.receiptInfo?.telNo | mobileNo }}</span>
        </div>
      </div>
    </div>
    <hr class="mt-0 mb-0">
    <div class="container-fluid mt-3 mb-3">
      <div class="row pl-3 pr-3">
        <div class="col-8 col-sm-10 text-left text-brown">
          <p class="text-light-green" id="text-campaign-name">{{ priceOption?.campaign?.campaignName }}</p>
          <span id="text-brand"> {{ priceOption?.productDetail?.brand }} </span>
          <span id="text-model"> {{ priceOption?.productDetail?.model }} </span>
          <span id="text-color"> สี {{ priceOption?.productStock?.colorName }}</span>
          <span id="text-amount"> จำนวน 1 เครื่อง</span>
        </div>
        <div class="col-4 col-sm-2 text-center text-brown">
          <img src="assets/images/icon/icon-cart.png" width="35px" class="mb-1" />
          <h4 class="text-light-green" id="text-total-price">
            ฿{{ priceOption?.trade?.promotionPrice | number }}
          </h4>
        </div>
      </div>
    </div>
  </div>

  <mc-wizard [wizards]="wizards" active="1"></mc-wizard>

  <div class="container-fluid">
    <div class="card mb-3">
      <div class="card-header bg-orange text-white rounded-top p-3" *ngIf="paymentDetail?.title">
        {{paymentDetail?.title}}
      </div>
      <div class="card-header text-light-green bg-transparent">
        <div class="row">
          <div class="col-12" *ngIf="paymentDetail?.header">
            {{paymentDetail?.header}} สี {{priceOption?.productStock?.color}}
            <span class="pull-right">฿{{ paymentDetail?.price | number }}</span>
          </div>
          <div class="col-12" *ngIf="paymentDetail?.headerAdvancePay">
            {{paymentDetail?.headerAdvancePay}}
            <span class="pull-right">฿{{ paymentDetail?.priceAdvancePay | number }}</span>
          </div>
        </div>
      </div>

      <div class="card-body">
        <form [formGroup]="paymentForm">
          <div class="form-group row">
            <div class="col-12 col-sm-5">
              <input class="form-check-input" type="radio" id="payment-debit-{{formID}}" value="debit"
                formControlName="paymentType">
              <label class="form-check-label" for="payment-debit-{{formID}}">
                {{ 'ชำระเงินด้วยเงินสด' }}
              </label>
            </div>
            <div class="col-12 col-sm-7">
              <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{ 'เต็มจำนวน' }}">
            </div>
          </div>
          <hr>
          <div class="form-group row">
            <div class="col-12 col-sm-5">
              <input class="form-check-input" type="radio" id="payment-credit-{{formID}}" value="credit"
                formControlName="paymentType">
              <label class="form-check-label" for="payment-credit-{{formID}}">
                {{ 'ชำระเงินด้วยบัตรเครดิต' }}
              </label>
            </div>
            <div class="col-12 col-sm-7">
              <select id="inputState" class="form-control" disabled>
                <option [selected]="!paymentDetailOption?.isInstallment">{{ 'เต็มจำนวน' }}</option>
                <option [selected]="paymentDetailOption?.isInstallment">{{ 'ผ่อนชำระ' }}</option>
              </select>
            </div>
          </div>



          <div class="form-group row" *ngIf="paymentForm.controls['paymentType'].value === 'credit'">
            <div class="col-12 text-left mb-3">
              <span class="text-pink">{{ '*กรุณาเลือกธนาคาร' }}</span>
            </div>
            <div class="col-4 col-sm-2 mb-3" *ngFor="let bank of paymentDetail?.banks; let i = index"
              (click)="onSelectBank(bank)">
              <div class="bank-lazy-load-image" [ngClass]="{'active': bank?.abb === selectPaymentDetail.bank?.abb}">
                <mc-lazy-load-image [src]="bank?.imageUrl"></mc-lazy-load-image>
              </div>
            </div>
            <div class="row">
              <div *ngIf="paymentDetail?.specialAmountPercent">
                {{ 'โปรโมชั่นพิเศษลดเพิ่ม' }} {{ paymentDetail?.specialAmountPercent }} %
              </div>
              <div *ngIf="paymentDetail?.specialAmountBaht">
                {{ 'โปรโมชั่นพิเศษลดเพิ่ม' }} {{ paymentDetail?.specialAmountBaht }} {{ 'บาท' }}
              </div>
            </div>
          </div>
          <div class="form-group row"
            *ngIf="paymentDetailOption?.isInstallment && paymentDetail?.installments && paymentForm.controls['paymentType'].value === 'credit'">
            <div class="col-12 text-center mb-3">
              <span class="text-pink"> {{ '*กรุณาเลือกรูปแบบการชำระเงิน' }}</span>
            </div>
            <div class="col-12 col-sm-4" *ngFor="let installment of paymentDetail?.installments; let i = index">
              <input class="form-check-input" type="radio" name="installment" id="installment-month-{{ i }}"
                value="installment" (click)="onSelectInstallment(installment)"
                [checked]="installment?.installmentMonth === 'selectPaymentDetail?.bank?.installments[0]?.installmentMonth' && installment?.installmentPercentage === 'selectPaymentDetail?.bank?.installments[0]?.installmentPercentage'">
              <label class="form-check-label" for="installment-month-{{ i }}">
                {{ installment?.installmentPercentage }}% {{ installment?.installmentMonth }} {{ 'เดือน' }}
              </label>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>